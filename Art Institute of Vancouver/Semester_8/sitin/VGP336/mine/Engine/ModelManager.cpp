//====================================================================================================
// Filename:	ModelManager.cpp
// Created by:	Peter Chan
//====================================================================================================

//====================================================================================================
// Includes
//====================================================================================================

#include "Precompiled.h"

#include "ModelManager.h"

//====================================================================================================
// Class Definitions
//====================================================================================================

ModelManager::ModelManager()
	: mpGraphicsSystem(nullptr)
{
}

//----------------------------------------------------------------------------------------------------

void ModelManager::Initialize(GraphicsSystem& gs)
{
	mpGraphicsSystem = &gs;
}

//----------------------------------------------------------------------------------------------------

void ModelManager::InitResource(Model* model, const wchar_t* pFilename)
{
	char buffer[256];
	size_t converted = 0;
	wcstombs_s(&converted, buffer, pFilename, 256);
	model->Load(*mpGraphicsSystem, buffer);
}

//----------------------------------------------------------------------------------------------------

void ModelManager::CleanupResource(Model* model)
{
	model->Unload();
}