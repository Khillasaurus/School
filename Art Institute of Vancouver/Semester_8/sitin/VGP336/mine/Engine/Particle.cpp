//====================================================================================================
// Filename:	Particle.cpp
// Created by:	Peter Chan
//====================================================================================================

//====================================================================================================
// Includes
//====================================================================================================

#include "Precompiled.h"

#include "Particle.h"

#include "Color.h"
#include "SimpleDraw.h"

//====================================================================================================
// Class Definitions
//====================================================================================================

Particle::Particle()
	: pos(0.0f, 0.0f, 0.0f)
	, posOld(0.0f, 0.0f, 0.0f)
	, accel(0.0f, 0.0f, 0.0f)
	, radius(1.0f)
	, invMass(1.0f)
	, bounce(1.0f)
{
	// Empty
}

//----------------------------------------------------------------------------------------------------

Particle::Particle(f32 x, f32 y, f32 z, f32 radius, f32 invMass)
	: pos(x, y, z)
	, posOld(x, y, z)
	, accel(0.0f, 0.0f, 0.0f)
	, radius(radius)
	, invMass(invMass) 
	, bounce(1.0f)
{
	// Empty
}

//----------------------------------------------------------------------------------------------------

void Particle::Render()
{
	SimpleDraw::AddSphere(pos, radius, Color::Cyan(), 4, 2);
}

//----------------------------------------------------------------------------------------------------

void Particle::SetPosition(f32 x, f32 y, f32 z)
{
	// positionOld = position = no motion
	pos.x = posOld.x = x;
	pos.y = posOld.y = y;
	pos.z = posOld.z = z;
}

//----------------------------------------------------------------------------------------------------

void Particle::SetVelocity(f32 x, f32 y, f32 z)
{
	// positionOld = position - velocity
	posOld.x = pos.x - x;
	posOld.y = pos.y - y;
	posOld.z = pos.z - z;
}